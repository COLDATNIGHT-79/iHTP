{% if posts %}
<div class="cards-grid">
    {% for post in posts %}
    <div class="card">
        {% if post.image_url %}
        <div class="card-image">
            <img src="{{ post.image_url }}" alt="{{ post.title }}" onerror="this.parentElement.innerHTML='[NO IMG]'">
        </div>
        {% else %}
        <div class="card-image card-image-empty"></div>
        {% endif %}
        <div class="card-content">
            <h3 class="card-title">{{ post.title }}</h3>
            <p class="card-likes">â˜† {{ post.like_count }}</p>
        </div>
        <a href="/post/{{ post.id }}" class="card-link"></a>
    </div>
    {% endfor %}
</div>
{% elif query %}
<div class="empty-state">No results for "{{ query }}"</div>
{% endif %}